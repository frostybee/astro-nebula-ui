---
interface Props {
  type?: "info" | "note" | "danger" | "success" | "warning" | "tip";
}
const { type = "info" } = Astro.props;

// SVG icons for each type
const icons = {
  info: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="12" cy="12" r="10"></circle>
    <path d="M12 16v-4"></path>
    <path d="M12 8h.01"></path>
  </svg>`,
  
  note: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M12 8v4"></path>
    <path d="M12 16h.01"></path>
    <path d="M6.4 20a9 9 0 1 1 11.2 0Z"></path>
  </svg>`,
  
  danger: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="m19 5-14 14"></path>
    <path d="m5 5 14 14"></path>
  </svg>`,
  
  success: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M20 6 9 17l-5-5"></path>
  </svg>`,
  
  warning: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path>
    <path d="M12 9v4"></path>
    <path d="M12 17h.01"></path>
  </svg>`,
  
  tip: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M12 2v8"></path>
    <path d="m4.93 10.93 1.41 1.41"></path>
    <path d="M2 18h2"></path>
    <path d="M20 18h2"></path>
    <path d="m19.07 10.93-1.41 1.41"></path>
    <path d="M22 22H2"></path>
    <path d="M16 6 8 14"></path>
  </svg>`
};
---

<div class={`callout callout-${type}`}>
  <div class="callout-icon" set:html={icons[type]}></div>
  <div class="callout-content">
    <slot />
  </div>
</div>

<style>
  @layer galaxy {
  .callout {
    display: flex;
    margin-bottom: 1.5rem;
    border-radius: 12px;
    padding: 1rem 1.25rem 1rem 0.5rem;
    font-size: 0.95rem;
    line-height: 1.6;
    position: relative;
    border-top: 2px solid;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;
  }

  .callout:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transform: translateY(-1px);
  }

  .callout-icon {
    display: flex;
    align-items: center;
    margin-right: 0.75rem;
    flex-shrink: 0;
    margin-top: 0.125rem;
  }

  .callout-icon svg {
    width: 22px;
    height: 22px;
    opacity: 0.9;
  }

  .callout-icon :global(svg) {
    width: 22px;
    height: 22px;
    opacity: 0.9;
  }

  .callout-content {
    flex: 1;
    margin-top: 0;
  }

  /* Info callout */
  .callout-info {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(59, 130, 246, 0.12) 100%);
    border-top-color: #3b82f6;
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-top: 2px solid #3b82f6;
  }
  .callout-info .callout-icon svg {
    color: #2563eb;
    stroke: #2563eb;
  }

  .callout-info .callout-icon :global(svg) {
    color: #2563eb;
    stroke: #2563eb;
  }

  /* Note callout */
  .callout-note {
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.08) 0%, rgba(168, 85, 247, 0.12) 100%);
    border-top-color: #a855f7;
    border: 1px solid rgba(168, 85, 247, 0.2);
    border-top: 2px solid #a855f7;
  }
  .callout-note .callout-icon svg {
    color: #9333ea;
    stroke: #9333ea;
  }

  .callout-note .callout-icon :global(svg) {
    color: #9333ea;
    stroke: #9333ea;
  }

  /* Danger callout */
  .callout-danger {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.08) 0%, rgba(239, 68, 68, 0.12) 100%);
    border-top-color: #ef4444;
    border: 1px solid rgba(239, 68, 68, 0.2);
    border-top: 2px solid #ef4444;
  }
  .callout-danger .callout-icon svg {
    color: #dc2626;
    stroke: #dc2626;
  }

  .callout-danger .callout-icon :global(svg) {
    color: #dc2626;
    stroke: #dc2626;
  }

  /* Success callout */
  .callout-success {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.08) 0%, rgba(34, 197, 94, 0.12) 100%);
    border-top-color: #22c55e;
    border: 1px solid rgba(34, 197, 94, 0.2);
    border-top: 2px solid #22c55e;
  }
  .callout-success .callout-icon svg {
    color: #16a34a;
    stroke: #16a34a;
  }

  .callout-success .callout-icon :global(svg) {
    color: #16a34a;
    stroke: #16a34a;
  }

  /* Warning callout */
  .callout-warning {
    background: linear-gradient(135deg, rgba(234, 179, 8, 0.08) 0%, rgba(234, 179, 8, 0.12) 100%);
    border-top-color: #eab308;
    border: 1px solid rgba(234, 179, 8, 0.2);
    border-top: 2px solid #eab308;
  }
  .callout-warning .callout-icon svg {
    color: #ca8a04;
    stroke: #ca8a04;
  }

  .callout-warning .callout-icon :global(svg) {
    color: #ca8a04;
    stroke: #ca8a04;
  }

  /* Tip callout */
  .callout-tip {
    background: linear-gradient(135deg, rgba(20, 184, 166, 0.08) 0%, rgba(20, 184, 166, 0.12) 100%);
    border-top-color: #14b8a6;
    border: 1px solid rgba(20, 184, 166, 0.2);
    border-top: 2px solid #14b8a6;
  }
  .callout-tip .callout-icon svg {
    color: #0d9488;
    stroke: #0d9488;
  }

  .callout-tip .callout-icon :global(svg) {
    color: #0d9488;
    stroke: #0d9488;
  }

  /* Dark mode */
  @media (prefers-color-scheme: dark) {
    .callout {
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    }
    
    .callout:hover {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
    }

    .callout-info {
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.12) 0%, rgba(59, 130, 246, 0.18) 100%);
      border-top-color: #60a5fa;
      border: 1px solid rgba(59, 130, 246, 0.3);
      border-top: 2px solid #60a5fa;
    }
    .callout-info .callout-icon svg {
      color: #60a5fa;
      stroke: #60a5fa;
    }

    .callout-info .callout-icon :global(svg) {
      color: #60a5fa;
      stroke: #60a5fa;
    }

    .callout-note {
      background: linear-gradient(135deg, rgba(168, 85, 247, 0.12) 0%, rgba(168, 85, 247, 0.18) 100%);
      border-top-color: #c084fc;
      border: 1px solid rgba(168, 85, 247, 0.3);
      border-top: 2px solid #c084fc;
    }
    .callout-note .callout-icon svg {
      color: #c084fc;
      stroke: #c084fc;
    }

    .callout-note .callout-icon :global(svg) {
      color: #c084fc;
      stroke: #c084fc;
    }

    .callout-danger {
      background: linear-gradient(135deg, rgba(239, 68, 68, 0.12) 0%, rgba(239, 68, 68, 0.18) 100%);
      border-top-color: #f87171;
      border: 1px solid rgba(239, 68, 68, 0.3);
      border-top: 2px solid #f87171;
    }
    .callout-danger .callout-icon svg {
      color: #f87171;
      stroke: #f87171;
    }

    .callout-danger .callout-icon :global(svg) {
      color: #f87171;
      stroke: #f87171;
    }

    .callout-success {
      background: linear-gradient(135deg, rgba(34, 197, 94, 0.12) 0%, rgba(34, 197, 94, 0.18) 100%);
      border-top-color: #4ade80;
      border: 1px solid rgba(34, 197, 94, 0.3);
      border-top: 2px solid #4ade80;
    }
    .callout-success .callout-icon svg {
      color: #4ade80;
      stroke: #4ade80;
    }

    .callout-success .callout-icon :global(svg) {
      color: #4ade80;
      stroke: #4ade80;
    }

    .callout-warning {
      background: linear-gradient(135deg, rgba(234, 179, 8, 0.12) 0%, rgba(234, 179, 8, 0.18) 100%);
      border-top-color: #facc15;
      border: 1px solid rgba(234, 179, 8, 0.3);
      border-top: 2px solid #facc15;
    }
    .callout-warning .callout-icon svg {
      color: #facc15;
      stroke: #facc15;
    }

    .callout-warning .callout-icon :global(svg) {
      color: #facc15;
      stroke: #facc15;
    }

    .callout-tip {
      background: linear-gradient(135deg, rgba(20, 184, 166, 0.12) 0%, rgba(20, 184, 166, 0.18) 100%);
      border-top-color: #2dd4bf;
      border: 1px solid rgba(20, 184, 166, 0.3);
      border-top: 2px solid #2dd4bf;
    }
    .callout-tip .callout-icon svg {
      color: #2dd4bf;
      stroke: #2dd4bf;
    }

    .callout-tip .callout-icon :global(svg) {
      color: #2dd4bf;
      stroke: #2dd4bf;
    }
  }
  
  /* Global slot styling */
  :global(.callout-content a) {
    color: inherit;
    text-decoration: underline;
    text-underline-offset: 2px;
    font-weight: 500;
    transition: opacity 0.2s ease;
  }

  :global(.callout-content a:hover) {
    opacity: 0.8;
  }

  :global(.callout-content p) {
    margin: 0.5rem 0;
  }

  :global(.callout-content p:first-child) {
    margin-top: 0;
  }

  :global(.callout-content p:last-child) {
    margin-bottom: 0;
  }

  :global(.callout-content strong) {
    font-weight: 600;
  }
  }  
</style> 